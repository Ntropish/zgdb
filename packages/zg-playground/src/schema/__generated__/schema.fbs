namespace Schema;

table User {
  avatarUrl: string;
  displayName: string;
  id: string;
  publicKey: string;
}

/// A post made by a user, which can have comments.
table Post {
  authorId: string;
  content: string;
  createdAt: long;
  id: string;
  title: string;
}

/// A comment on a post
table Comment {
  authorId: string;
  content: string;
  createdAt: long;
  id: string;
  postId: string;
}

/// A directional relationship indicating one user follows another.
table Follow {
  createdAt: long;
  followerId: string;
  followingId: string;
  id: string;
}

/// Nested schema for metadata of Image
table Image_Metadata {
  createdAt: long;
  format: string;
  height: long;
  width: long;
}

/// An image, which can be a user's profile picture or part of a post.
table Image {
  altText: string;
  fartCount: long;
  id: string;
  metadata: Image_Metadata;
  postId: string;
  url: string;
  userId: string;
}

/// A reaction from a user to a specific piece of content, like a post or a comment.
table Reaction {
  authorId: string;
  id: string;
  targetId: string;
  targetType: string;
  type: string;
}

/// A tag that can be applied to posts to categorize them.
table Tag {
  id: string;
  name: string;
}

/// The join entity connecting a Post and a Tag.
table PostTag {
  id: string;
  postId: string;
  tagId: string;
}

root_type User;